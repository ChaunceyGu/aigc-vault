# ⚡ 超简单部署 - 三步走

如果你觉得上面的教程太复杂，试试这个极简版本！

---

## 🎯 核心思路

**不用 Docker Hub 也行！** 直接在 NAS 上构建镜像。

---

## 方法一：NAS 上直接构建（最简单）⭐

### 适用场景
- ✅ 你的 NAS 已经安装了 Docker
- ✅ 可以把代码文件上传到 NAS
- ✅ **不需要 GitHub，不需要 Docker Hub，什么都不需要！**

### 步骤

#### 1️⃣ 准备代码
- 把整个项目文件夹打包（zip 或 tar.gz）
- 或者用 Git 克隆到 NAS

#### 2️⃣ 上传到 NAS
- 通过 FTP、SMB、或 NAS 的文件管理界面上传
- 解压到某个目录，比如 `/volume1/docker/aigc-vault/`

#### 3️⃣ 修改配置文件

打开 `docker-compose.build.yml`（**不是** `docker-compose.yml`），修改：

```yaml
# 数据库配置（如果使用外部数据库）
DATABASE_URL: postgresql://用户名:密码@数据库地址:5432/数据库名

# RustFS/S3 配置
RUSTFS_ENDPOINT_URL: http://你的存储地址:9900
RUSTFS_ACCESS_KEY: 你的访问密钥
RUSTFS_SECRET_KEY: 你的密钥

# CORS 配置（NAS 的访问地址）
CORS_ORIGINS: http://nas-ip,http://nas-ip:80
```

#### 4️⃣ 在 NAS 上构建和启动

**方式 A：SSH 连接到 NAS**

```bash
# 进入项目目录
cd /volume1/docker/aigc-vault

# 构建并启动（一条命令搞定）
docker-compose -f docker-compose.build.yml up -d --build
```

**方式 B：NAS Docker 图形界面**

1. 打开 NAS 的 Docker 管理界面
2. 找到 "Compose" 或 "Stack" 功能
3. 选择 `docker-compose.build.yml` 文件
4. 点击"创建"或"部署"

**就这么简单！** 

- `--build` 参数会自动构建镜像
- **不需要推送到 Docker Hub**
- **不需要 GitHub**
- **只需要 NAS 有 Docker 就行！**

### 以后如何更新？

```bash
# 1. 上传新代码到 NAS
# 2. 重新构建
docker-compose -f docker-compose.build.yml up -d --build

# 或者只重启（如果代码没变）
docker-compose -f docker-compose.build.yml restart
```

---

## 方法二：使用 GitHub Actions（推荐）

### 如果你还是想用自动化

**最简流程：**

1. **安装 GitHub Desktop**（比命令行简单 100 倍）
   - 下载：https://desktop.github.com
   - 安装后登录你的 GitHub 账号

2. **上传代码**
   - GitHub Desktop → File → Add Local Repository
   - 选择项目文件夹
   - 写提交说明："Initial commit"
   - 点击 Publish Repository

3. **配置密钥**（一次性操作）
   - GitHub 仓库 → Settings → Secrets → Actions
   - 添加 `DOCKER_USERNAME` = 你的 Docker Hub 用户名
   - 添加 `DOCKER_PASSWORD` = 你的 Docker Hub 密码

4. **触发构建**
   - GitHub 仓库 → Actions 标签
   - 点击 "Run workflow"

5. **在 NAS 上使用**
   - 修改 `docker-compose.yml` 中的镜像名称
   - 运行 `docker-compose pull && docker-compose up -d`

---

## 方法三：找人帮忙（最省事）

### 如果你真的搞不定

1. **找朋友帮忙**：
   - 让懂技术的朋友帮你设置一次 GitHub Actions
   - 以后你只需要用 GitHub Desktop 点几下就能更新

2. **花钱找人**：
   - 在某宝或闲鱼找技术协助
   - 价格一般几十到一百块，帮你一次性设置好

3. **社区求助**：
   - GitHub Issues
   - 技术论坛
   - 社交媒体技术群

---

## 🤔 选哪个方法？

| 方法 | 难度 | 适合人群 |
|------|------|---------|
| **方法一（NAS构建）** | ⭐ 最简单 | 只想快点用，不关心自动化 |
| **方法二（GitHub Actions）** | ⭐⭐⭐ 中等 | 想要自动化，愿意学习 |
| **方法三（找人帮忙）** | ⭐ 最简单 | 完全不想折腾 |

---

## 💡 我的建议

**如果你：**
- 是纯小白 → **方法一**或**方法三**
- 稍微懂点技术 → **方法二**（一劳永逸）
- 时间很紧 → **方法三**（花钱省时间）

**不管选哪个，第一次设置好后，以后更新都很简单！**

