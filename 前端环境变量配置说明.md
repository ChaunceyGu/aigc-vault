# 前端配置说明

## 📋 概述

前端使用相对路径 `/api`，通过 nginx 代理到后端服务，**无需额外配置**。

## 🔧 工作原理

1. **前端代码**：使用相对路径 `/api` 发送请求
2. **nginx 代理**：将 `/api` 请求代理到后端服务（`backend:8000`）
3. **后端服务**：处理 API 请求并返回响应

## 🐳 Docker 运行时配置

在 `docker-compose.yml` 中，前端服务通过环境变量配置 nginx 代理：

```yaml
frontend:
  image: your-image-name:latest
  environment:
    # 后端服务配置（用于 nginx 代理）
    BACKEND_HOST: backend
    BACKEND_PORT: 8000
  ports:
    - "80:80"
```

### 环境变量说明

#### BACKEND_HOST

**用途：** 后端服务的主机名或 IP

**默认值：** `backend`

**说明：**
- 在 docker-compose 中，通常使用服务名 `backend`
- 如果后端在其他地方，使用实际的 IP 或域名

#### BACKEND_PORT

**用途：** 后端服务的端口

**默认值：** `8000`

**说明：**
- 确保与后端服务实际端口一致

## 🔍 验证配置

### 检查 nginx 配置

```bash
# 查看生成的 nginx 配置
docker exec container-name cat /etc/nginx/conf.d/default.conf
```

应该看到：
```nginx
location /api {
    proxy_pass http://backend:8000;
    ...
}
```

## 🐛 常见问题

### 问题：nginx 代理失败

**可能原因：**
- `BACKEND_HOST` 或 `BACKEND_PORT` 配置错误
- 后端服务不可达

**解决方法：**
- 检查 `docker-compose.yml` 中的环境变量
- 确认后端服务名称和端口
- 检查容器网络连接

---

**前端无需额外配置，直接使用即可！** 🎉

